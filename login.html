<html>
    <head>
        <title>Login</title>
    </head>
    <body>
        <form id="loginForm">
            <div>
              <label for="username">Usu√°rio:</label>
              <input type="text" id="username" name="username" required>
            </div>
            <div>
              <label for="password">Senha:</label>
              <input type="password" id="password" name="password" required>
            </div>
            <div>
              <button type="submit">Entrar</button>
            </div>
          </form>

          <script>

                document.getElementById("loginForm").addEventListener("submit", function(event) {
                event.preventDefault();

                var username = document.getElementById("username").value;
                var password = document.getElementById("password").value;

                var xhr = new XMLHttpRequest();
                xhr.open("POST", "/login", true);
                xhr.setRequestHeader("Content-Type", "application/json");

                xhr.onreadystatechange = () =>{
                    if(xhr.readyState === 4){
                        if(xhr.status === 200){
                            alert("Login bem-sucedido");
                            window.location.href= "/dashbord.html"
                        }else if(xhr.status === 401){
                            alert("usuario e senha incorretos")
                        }else{
                            alert("Erro ao fazer login")
                        }
                    }
                };

                xhr.send(JSON.stringify({ username: user_name, password: user_pass}));
                });
          </script>
    </body>
</html>